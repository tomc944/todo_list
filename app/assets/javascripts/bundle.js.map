{"version":3,"sources":["webpack/bootstrap 4f38c912f95c0b4ebffe","./frontend/todo_react.jsx","./frontend/stores/todo_store.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 4f38c912f95c0b4ebffe\n **/","TodoStore = require('./stores/todo_store.js');\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/todo_react.jsx\n **/","var _todos = [],\n    _callbacks = [];\n\nvar TodoStore = {\n\n  addChangeHandler: function(cb) {\n    _callbacks.push(cb);\n  },\n\n  removeChangeHandler: function(cb) {\n    var index = _callbacks.indexOf(cb);\n\n    if(index === -1) { return; }\n\n    _callbacks.splice(index, 1);\n  },\n\n  changed: function(){\n    _callbacks.forEach(function(cb) {\n      cb();\n    });\n  },\n\n  all: function() {\n    return _todos.slice();\n  },\n\n  fetch: function() {\n    $.get('api/todos', {}, function(todos) {\n      _todos = todos;\n      TodoStore.changed();\n    });\n  },\n\n  create: function(todo) {\n    // do we need reference to todo in our anonymous function\n    $.post('api/todos', {todos: todo}, function() {\n      _todos.push(todo);\n      TodoStore.changed();\n    });\n  },\n\n  destroy: function(id) {\n    var deleteItemIdx = this.find(id);\n\n    if (deleteItemIdx !== -1) {\n      $.ajax({\n        url: \"/api/todos/\" + id,\n        type: 'DELETE',\n        success: function()\n          { _todos.splice(deleteItemIdx, 1);\n            TodoStore.changed();\n          }\n      });\n    }\n  },\n\n  find: function(id) {\n    for(var i = 0; i < _todos.length; i++ ) {\n      if (_todos[i].id === id) {\n        return i;\n      }\n    }\n  },\n\n  updateDone: function(id) {\n    var updateItemIdx = this.find(id);\n    var currentTodo = _todos[updateItemIdx];\n\n    if (updateItemIdx !== -1) {\n      $.ajax({\n        url: \"/api/todos/\" + id,\n        data: {todos: currentTodo},\n        type: \"PATCH\",\n        success: function() {\n          this.toggleDone(updateItemIdx);\n          TodoStore.changed();\n        }.bind(this)\n      });\n    }\n\n  },\n\n  toggleDone: function(toggleIdx) {\n    if (_todos[toggleIdx].done === true) {\n      _todos[toggleIdx].done = false;\n    } else {\n      _todos[toggleIdx].done = true;\n    }\n  }\n};\n\nmodule.exports = TodoStore;\n\n\n\n/** WEBPACK FOOTER **\n ** ./frontend/stores/todo_store.js\n **/"],"sourceRoot":""}